---
title: Saturn | ApplicationBuilder
layout: standard
---

# ApplicationBuilder

**Namespace:** [Saturn](./saturn.html)

**Parent:** [Application](./saturn-application.html)

Computation expression used to configure Saturn application. Under the hood it's using ASP.NET application configurations interfaces such as `IWebHostBuilder`, `IServiceCollection`, `IApplicationBuilder` and others. It aims to hide cumbersome ASP.NET application configuration and enable high level, declarative application configuration using feature toggles.

**Example:**

```fsharp
let app = application {
    pipe_through endpointPipe
    use_router topRouter
    url "http://0.0.0.0:8085/"
    memory_cache
    use_static "static"
    use_gzip
}
```

| Name                                                              | CE Custom Operation                      | Description                                                                                                                                                                                                                                                                                                                            | Implementation Link                                                                              |
|-------------------------------------------------------------------|------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------|
| Instance Members                                                  |                                          |                                                                                                                                                                                                                                                                                                                                        |                                                                                                  |
| `x.ActivateDeveloperExceptions(state)`                            | `use_developer_exceptions`               | Turns on the developer exception page, if the environment is in development mode.                                                                                                                                                                                                                                                      | [link](https://github.com/SaturnFramework/Saturn/tree/master/src/Saturn/Application.fs#L611-611) |
| `x.AddChannel(state, url, channel)`                               | `add_channel`                            | Registers channel for given url.                                                                                                                                                                                                                                                                                                       | [link](https://github.com/SaturnFramework/Saturn/tree/master/src/Saturn/Application.fs#L605-605) |
| `x.AddMimeTypes(state, mimeList)`                                 | `use_mime_types`                         | Adds MIME types definitions as a list of (extension, mime).                                                                                                                                                                                                                                                                            | [link](https://github.com/SaturnFramework/Saturn/tree/master/src/Saturn/Application.fs#L250-250) |
| `x.AppConfig(state, config)`                                      | `app_config`                             | Adds custom application configuration step.                                                                                                                                                                                                                                                                                            | [link](https://github.com/SaturnFramework/Saturn/tree/master/src/Saturn/Application.fs#L225-225) |
| `x.CliArguments(state, args)`                                     | `cli_arguments`                          | Sets the cli arguments for the `IWebHostBuilder` to enable default command line configuration and functionality.                                                                                                                                                                                                                       | [link](https://github.com/SaturnFramework/Saturn/tree/master/src/Saturn/Application.fs#L566-566) |
| `x.ConfigJSONSerializer(state, settings)`                         | `use_json_settings`                      | Configures built in JSON.Net (de)serializer with custom settings.                                                                                                                                                                                                                                                                      | [link](https://github.com/SaturnFramework/Saturn/tree/master/src/Saturn/Application.fs#L573-573) |
| `x.ConfigXMLSerializer(state, settings)`                          | `use_xml_settings`                       | Configures built in XML (de)serializer with custom settings.                                                                                                                                                                                                                                                                           | [link](https://github.com/SaturnFramework/Saturn/tree/master/src/Saturn/Application.fs#L589-589) |
| `x.DisableDiagnostics(state)`                                     | `disable_diagnostics`                    | Disables generation of diagnostic files that can be used by Saturn tooling.                                                                                                                                                                                                                                                            | [link](https://github.com/SaturnFramework/Saturn/tree/master/src/Saturn/Application.fs#L543-543) |
| `x.EndpointRouter(state, routes)`                                 | `use_endpoint_router`                    | Defines top-level endpoint router used for the application.                                                                                                                                                                                                                                                                            | [link](https://github.com/SaturnFramework/Saturn/tree/master/src/Saturn/Application.fs#L200-200) |
| `x.ErrorHandler(state, handler)`                                  | `error_handler`                          | Adds error/not-found handler for current scope.                                                                                                                                                                                                                                                                                        | [link](https://github.com/SaturnFramework/Saturn/tree/master/src/Saturn/Application.fs#L220-220) |
| `x.ForceSSL(state)`                                               | `force_ssl`                              | Redirect all HTTP request to HTTPS.                                                                                                                                                                                                                                                                                                    | [link](https://github.com/SaturnFramework/Saturn/tree/master/src/Saturn/Application.fs#L334-334) |
| `x.HostConfig(state, config)`                                     | `host_config`                            | Adds custom generic host (`IHostBuilder`) configuration step. Configuration for web host should use `webhost_config` instead.                                                                                                                                                                                                          | [link](https://github.com/SaturnFramework/Saturn/tree/master/src/Saturn/Application.fs#L230-230) |
| `x.ListenLocal(state, portNumber, listenOptions)`                 | `listen_local`                           | Listens on `::1` and `127.0.0.1` with the given port. Requesting a dynamic port by specifying `0` is not supported for this type of endpoint                                                                                                                                                                                           | [link](https://github.com/SaturnFramework/Saturn/tree/master/src/Saturn/Application.fs#L624-624) |
| `x.Logging(state, config)`                                        | `logging`                                | Adds logging configuration.                                                                                                                                                                                                                                                                                                            | [link](https://github.com/SaturnFramework/Saturn/tree/master/src/Saturn/Application.fs#L256-256) |
| `x.MemoryCache(state)`                                            | `memory_cache`                           | Enables in-memory session cache.                                                                                                                                                                                                                                                                                                       | [link](https://github.com/SaturnFramework/Saturn/tree/master/src/Saturn/Application.fs#L261-261) |
| `x.NoRouter(state)`                                               | `no_router`                              | Disable warning message about lack of `router` definition. Should be used for channels-only or gRPC applications.                                                                                                                                                                                                                      | [link](https://github.com/SaturnFramework/Saturn/tree/master/src/Saturn/Application.fs#L205-205) |
| `x.NoWebhost(state)`                                              | `no_webhost`                             | Disables any configuration of webhost. Could be used for generic `IHostBuilder` applications not using Kestrel/IIS.                                                                                                                                                                                                                    | [link](https://github.com/SaturnFramework/Saturn/tree/master/src/Saturn/Application.fs#L210-210) |
| `x.PipeThrough(state, pipe)`                                      | `pipe_through`                           | Adds pipeline to the list of pipelines that will be used for every request.                                                                                                                                                                                                                                                            | [link](https://github.com/SaturnFramework/Saturn/tree/master/src/Saturn/Application.fs#L215-215) |
| `x.Router(state, handler)`                                        | `use_router`                             | Defines top-level router used for the application.                                                                                                                                                                                                                                                                                     | [link](https://github.com/SaturnFramework/Saturn/tree/master/src/Saturn/Application.fs#L195-195) |
| `x.Run(state)`                                                    |                                          |                                                                                                                                                                                                                                                                                                                                        | [link](https://github.com/SaturnFramework/Saturn/tree/master/src/Saturn/Application.fs#L95-95)   |
| `x.ServiceConfig(state, config)`                                  | `service_config`                         | Adds custom service configuration step.                                                                                                                                                                                                                                                                                                | [link](https://github.com/SaturnFramework/Saturn/tree/master/src/Saturn/Application.fs#L240-240) |
| `x.Url(state, url)`                                               | `url`                                    | Adds url.                                                                                                                                                                                                                                                                                                                              | [link](https://github.com/SaturnFramework/Saturn/tree/master/src/Saturn/Application.fs#L245-245) |
| `x.UseAntiforgery(state)`                                         | `use_antiforgery`                        | Enables use of the `protectFromForgery` `pipeline` component and the `CSRF` features in general.                                                                                                                                                                                                                                       | [link](https://github.com/SaturnFramework/Saturn/tree/master/src/Saturn/Application.fs#L549-549) |
| `x.UseAntiforgeryWithConfig(state, configFn)`                     | `use_antiforgery_with_config`            | Enables use of the protectFromForgery pipeline component and the CSRF features in general. This overload allows for custom configuration of the subsystem, for more information see the AntiforgeryOptions class at [link](https://github.com/aspnet/Antiforgery/blob/dev/src/Microsoft.AspNetCore.Antiforgery/AntiforgeryOptions.cs). | [link](https://github.com/SaturnFramework/Saturn/tree/master/src/Saturn/Application.fs#L558-558) |
| `x.UseConfig(state, configBuilder)`                               | `use_config`                             |                                                                                                                                                                                                                                                                                                                                        | [link](https://github.com/SaturnFramework/Saturn/tree/master/src/Saturn/Application.fs#L315-315) |
| `x.UseCookiesAuth(state, issuer)`                                 | `use_cookies_authentication`             | Enables default cookies authentication.                                                                                                                                                                                                                                                                                                | [link](https://github.com/SaturnFramework/Saturn/tree/master/src/Saturn/Application.fs#L402-402) |
| `x.UseCookiesAuthConfig(state, options)`                          | `use_cookies_authentication_with_config` | Enables cookies authentication with custom configuration.                                                                                                                                                                                                                                                                              | [link](https://github.com/SaturnFramework/Saturn/tree/master/src/Saturn/Application.fs#L426-426) |
| `x.UseCors(state, policy, policyConfig)`                          | `use_cors`                               | Enables application level CORS protection.                                                                                                                                                                                                                                                                                             | [link](https://github.com/SaturnFramework/Saturn/tree/master/src/Saturn/Application.fs#L343-343) |
| `x.UseCustomJSONSerializer(state, serializer)`                    | `use_json_serializer`                    | Replaces built in JSON.Net (de)serializer with custom serializer.                                                                                                                                                                                                                                                                      | [link](https://github.com/SaturnFramework/Saturn/tree/master/src/Saturn/Application.fs#L581-581) |
| `x.UseCustomXMLSerializer(state, serializer)`                     | `use_xml_serializer`                     | Replaces built in XML (de)serializer with custom serializer.                                                                                                                                                                                                                                                                           | [link](https://github.com/SaturnFramework/Saturn/tree/master/src/Saturn/Application.fs#L597-597) |
| `x.UseGZip(state)`                                                | `use_gzip`                               | Enables gzip compression.                                                                                                                                                                                                                                                                                                              | [link](https://github.com/SaturnFramework/Saturn/tree/master/src/Saturn/Application.fs#L272-272) |
| `x.UseIIS(state)`                                                 | `use_iis`                                | Enables IIS integration.                                                                                                                                                                                                                                                                                                               | [link](https://github.com/SaturnFramework/Saturn/tree/master/src/Saturn/Application.fs#L520-520) |
| `x.UseJWTAuth(state, secret, issuer)`                             | `use_jwt_authentication`                 | Enables default JWT authentication.                                                                                                                                                                                                                                                                                                    | [link](https://github.com/SaturnFramework/Saturn/tree/master/src/Saturn/Application.fs#L356-356) |
| `x.UseJWTAuthConfig(state, config)`                               | `use_jwt_authentication_with_config`     | Enables JWT authentication with custom configuration.                                                                                                                                                                                                                                                                                  | [link](https://github.com/SaturnFramework/Saturn/tree/master/src/Saturn/Application.fs#L384-384) |
| `x.UseOAuthWithConfig(state, name, config)`                       | `use_oauth_with_config`                  | Enables OAuth authentication with custom configuration.                                                                                                                                                                                                                                                                                | [link](https://github.com/SaturnFramework/Saturn/tree/master/src/Saturn/Application.fs#L496-496) |
| `x.UseOAuthWithSettings(state, clientId, clientSecret, settings)` | `use_oauth`                              | Enables simple custom OAuth authentication using parmeters provided with `OAuth.OAuthSettings` record. Can be used to quickly implement default OAuth authentication for 3rd party providers.                                                                                                                                          | [link](https://github.com/SaturnFramework/Saturn/tree/master/src/Saturn/Application.fs#L450-450) |
| `x.UsePolicy(state, policy, evaluator)`                           | `use_policy`                             | Add custom policy, taking an `AuthorizationHandlerContext -> bool`.                                                                                                                                                                                                                                                                    | [link](https://github.com/SaturnFramework/Saturn/tree/master/src/Saturn/Application.fs#L529-529) |
| `x.UseStatic(state, path)`                                        | `use_static`                             | Enables using static file hosting.                                                                                                                                                                                                                                                                                                     | [link](https://github.com/SaturnFramework/Saturn/tree/master/src/Saturn/Application.fs#L297-297) |
| `x.WebHostConfig(state, config)`                                  | `webhost_config`                         | Adds custom web host configuration step.                                                                                                                                                                                                                                                                                               | [link](https://github.com/SaturnFramework/Saturn/tree/master/src/Saturn/Application.fs#L235-235) |
| `x.Yield(arg1)`                                                   |                                          |                                                                                                                                                                                                                                                                                                                                        | [link](https://github.com/SaturnFramework/Saturn/tree/master/src/Saturn/Application.fs#L89-89)   |
