<html class="has-navbar-fixed-top" lang="en"><head><title>Saturn Docs · Endpoint Routing</title><meta http-equiv="content-type" content="text/html; charset=UTF-8" charSet="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="shortcut icon" href="/Saturn/static/img/icon.png"/><link rel="stylesheet" type="text/css" href="/Saturn/style.css"/><script src="https://unpkg.com/scroll-into-view-if-needed@2.2.28/umd/scroll-into-view-if-needed.min.js"></script></head><body class="has-footer"><nav class="navbar is-fixed-top is-spaced"><div class="container"><div class="navbar-brand"><a class="navbar-item title is-4" href="https://64j0.github.io//Saturn/">Saturn Docs</a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item is-hidden-mobile" href="/">Home</a><div class="navbar-item has-nacara-dropdown is-floating is-hidden-mobile" data-guid="9401304c-910d-4366-9442-937f6bc41368"><div class="nacara-dropdown-link">Guides</div><div class="nacara-dropdown is-floating"><a class="nacara-dropdown-item" href="/contents/tutorials/how-to-start.html"><div>Getting Started</div></a><a class="nacara-dropdown-item" href="/contents/tutorials/adding-saturn-to-an-existing-giraffe-app.html"><div>Adding Saturn to Giraffe</div></a><a class="nacara-dropdown-item" href="/contents/tutorials/adding-pages.html"><div>Adding Pages</div></a></div></div><div class="navbar-item has-nacara-dropdown is-floating" data-guid="98360cf9-928c-415b-b81b-4380e084ce82"><div class="nacara-dropdown-link">Documentation</div><div class="nacara-dropdown is-floating"><a class="nacara-dropdown-item" href="/contents/explanations/overview.html"><div>Saturn Overview</div></a><hr class="navbar-divider"/><a class="nacara-dropdown-item" href="/contents/explanations/directory-structure.html"><div>Directory Structure</div></a><hr class="navbar-divider"/><a class="nacara-dropdown-item" href="/contents/explanations/scaffolding.html"><div>Scaffolding</div></a><hr class="navbar-divider"/><a class="nacara-dropdown-item" href="/contents/explanations/pipeline.html"><div>Pipeline</div></a><hr class="navbar-divider"/><a class="nacara-dropdown-item" href="/contents/explanations/routing.html"><div>Router</div></a><hr class="navbar-divider"/><a class="nacara-dropdown-item" href="/contents/explanations/view.html"><div>View Engine</div></a><hr class="navbar-divider"/><a class="nacara-dropdown-item" href="/contents/explanations/controller.html"><div>Controllers</div></a><hr class="navbar-divider"/><a class="nacara-dropdown-item" href="/contents/explanations/endpoint-routing.html"><div>Endpoint Routing</div></a></div></div><div class="navbar-item navbar-burger-dots is-hidden-tablet"><svg height="4" stroke="none" viewBox="0 0 22 4" width="22"><circle cx="2" cy="2" r="2"></circle><circle cx="2" cy="2" r="2" transform="translate(9,0)"></circle><circle cx="2" cy="2" r="2" transform="translate(18,0)"></circle></svg></div></div><div class="navbar-end is-hidden-mobile"><a class="navbar-item" href="https://github.com/SaturnFramework/Saturn"><span class="icon"><i class=" fab fa-github fa-lg"></i></span></a></div></div><div class="nacara-navbar-menu"><a class="nacara-navbar-menu-item" href="/">Home</a><div class="nacara-navbar-menu-dropdown"><div class="nacara-navbar-menu-dropdown-label">Guides</div><a class="nacara-navbar-menu-dropdown-link" href="/contents/tutorials/how-to-start.html"><span>Getting Started</span></a><a class="nacara-navbar-menu-dropdown-link" href="/contents/tutorials/adding-saturn-to-an-existing-giraffe-app.html"><span>Adding Saturn to Giraffe</span></a><a class="nacara-navbar-menu-dropdown-link" href="/contents/tutorials/adding-pages.html"><span>Adding Pages</span></a></div><a class="nacara-navbar-menu-item" href="https://github.com/SaturnFramework/Saturn">Github</a></div></div></nav><div class="grey-overlay"></div><div class="nacara-content"><div class="container"><div class="mobile-menu"><nav class="breadcrumb"><ul><li><a class="menu-trigger"><span></span><span></span><span></span></a></li><li class="is-active"><a>EXPLANATION</a></li><li class="is-active"><a>Endpoint Routing</a></li></ul></nav></div><div class="columns is-gapless is-mobile"><div class="column is-menu-column is-3-desktop is-hidden-touch"><div class="menu-container"><aside class="menu"><p class="menu-label">EXPLANATION</p><ul class="menu-list"><li><a class=" " href="/Saturn/contents/explanations/overview.html">Saturn Overview</a></li><li><a class=" " href="/Saturn/contents/explanations/directory-structure.html">Directory Structure</a></li><li><a class=" " href="/Saturn/contents/explanations/scaffolding.html">Scaffolding</a></li><li><a class=" " href="/Saturn/contents/explanations/pipeline.html">Pipeline</a></li><li><a class=" " href="/Saturn/contents/explanations/routing.html">Router</a></li><li><a class=" " href="/Saturn/contents/explanations/view.html">View Engine</a></li><li><a class=" " href="/Saturn/contents/explanations/controller.html">Controllers</a></li><li><a class=" is-active" href="/Saturn/contents/explanations/endpoint-routing.html">Endpoint Routing</a></li></ul><p class="menu-label">TUTORIALS</p><ul class="menu-list"><li><a class=" " href="/Saturn/contents/tutorials/adding-pages.html">Adding Pages</a></li><li><a class=" " href="/Saturn/contents/tutorials/adding-saturn-to-an-existing-giraffe-app.html">Adding Saturn to an existing Giraffe application</a></li><li><a class=" " href="/Saturn/contents/tutorials/how-to-start.html">Getting started</a></li></ul><p class="menu-label">API REFERENCES</p><ul class="menu-list"><li><a class=" " href="/Saturn/contents/reference/index.html">API Reference Index</a></li></ul></aside></div></div><div class="column is-9-desktop is-full-touch"><section class="section"><div class="content"><header class="page-header"><div class="columns is-vcentered"><div class="column"><nav class="breadcrumb is-category-navigation is-hidden-touch"><ul><li class="is-active"><a>EXPLANATION</a></li><li class="is-active"><a>Endpoint Routing</a></li></ul></nav></div><div class="column is-narrow"><a class="button is-hidden-touch is-ghost" target="_blank" href="https://github.com/SaturnFramework/Saturn/docs/docs/contents/explanations/endpoint-routing.md">Edit</a></div></div><h1 class="title is-1">Endpoint Routing</h1></header><div><style class=grvsc-styles>.grvsc-container{overflow:auto;position:relative;-webkit-overflow-scrolling:touch;padding-top:1rem;padding-top:var(--grvsc-padding-top,var(--grvsc-padding-v,1rem));padding-bottom:1rem;padding-bottom:var(--grvsc-padding-bottom,var(--grvsc-padding-v,1rem));border-radius:8px;border-radius:var(--grvsc-border-radius,8px);font-feature-settings:normal;line-height:1.4}.grvsc-code{display:table}.grvsc-line{display:table-row;box-sizing:border-box;width:100%;position:relative}.grvsc-line>*{position:relative}.grvsc-gutter-pad{display:table-cell;padding-left:.75rem;padding-left:calc(var(--grvsc-padding-left,var(--grvsc-padding-h,1.5rem))/ 2)}.grvsc-gutter{display:table-cell;-webkit-user-select:none;-moz-user-select:none;user-select:none}.grvsc-gutter::before{content:attr(data-content)}.grvsc-source{display:table-cell;padding-left:1.5rem;padding-left:var(--grvsc-padding-left,var(--grvsc-padding-h,1.5rem));padding-right:1.5rem;padding-right:var(--grvsc-padding-right,var(--grvsc-padding-h,1.5rem))}.grvsc-source:empty::after{content:' ';-webkit-user-select:none;-moz-user-select:none;user-select:none}.grvsc-gutter+.grvsc-source{padding-left:.75rem;padding-left:calc(var(--grvsc-padding-left,var(--grvsc-padding-h,1.5rem))/ 2)}.grvsc-has-line-highlighting>.grvsc-code>.grvsc-line::before{content:' ';position:absolute;width:100%}.grvsc-line-diff-add::before{background-color:var(--grvsc-line-diff-add-background-color,rgba(0,255,60,.2))}.grvsc-line-diff-del::before{background-color:var(--grvsc-line-diff-del-background-color,rgba(255,0,20,.2))}.grvsc-line-number{padding:0 2px;text-align:right;opacity:.7}</style><h1 id=endpoint-routing>Endpoint Routing<a href=#endpoint-routing aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h1><p>Saturn from version <code>0.15</code> supports <a href="https://docs.microsoft.com/en-us/aspnet/core/fundamentals/routing?view=aspnetcore-3.1">ASP.NET Endpoint Routing</a> additionally to custom routing implementation provided by Giraffe. The main difference between old routing and new one is that Endpoint Routing assumes total separation of routing from behavior - it works by statically defining list of all possible routes on startup of application. This impacts design of some of our Saturn abstractions, and means new routing is not 100% compatible with old one. On the bright side, theoretically, Endpoint Routing should provide noticeable performance boost, and in the future it will allow for better ecosystem integration.<blockquote><p>Currently endpoint routing API is treated as an experimental API - it's subject to changes.</blockquote><p>To use Endpoint Routing you need to open <code>Saturn.Endpoint</code> namespace - this will override known <code>router</code> and <code>controller</code> Computation Expressions with their Endpoint Routing versions. In <code>application</code> CE instead of using <code>use_router</code> operation you should use <code>use_endpoint_router</code> operation. For many simple applications this may be enough to get things working - we've been trying to keep API as compatible as possible.<p>However there are differences:<ul><li>With Endpoint Routing <code>router</code> and <code>controller</code> computation expressions are not transformed to <code>HttpHandler</code> but rather to <code>Endpoint list</code>. This has a huge impact on composability of those abstractions - you can't do things like <code>myHttpHandler >=> router { ... }</code> any more. Such code should be replaced with <code>plug/pipe_through</code> functionality in both <code>router</code> and <code>controller</code>. <code>Endpoint list</code> can basically be used in 2 places - in <code>forward</code> operation in <code>router</code> and <code>use_endpoint_router</code> in <code>application</code>.<li>Lack of <code>subroutef</code> in Giraffe-EndpointRouting - because EndpointRouting needs to have all possible route templates at the application startup it's really hard to emulate some of previous Giraffe's routing composibility capabilities. From Saturn point of view this created 2 major changes:<ul><li>there's no <code>forwardf</code> in <code>router</code> CE anymore - it should be replaced with set of <code>getf/postf/putf ... </code>operations in child router.<li><code>subController</code> in <code>controller</code> CE doesn't work well in Endpoint Routing - you can use as subcontrollers only old, HttpHandler based controllers (even if you parent controller is Endpoint Routing controller). In <code>Saturn.Endpoint</code> we provide additonal <code>subcontroller</code> CE - it's an alias to old <code>controller</code> CE</ul><li>Lack of <code>case_insensitive</code> in <code>router</code> and <code>controller</code> - with Endpoint Routing all routes are case insensitive by default and there's no easy way to change it<li>Lack of <code>not_found_handler</code> in <code>router</code> and <code>controller</code> - as Endpoint Routing creates global table of routing having scoped not-found handlers is really tricky. Use built-in ways of handle 404 in ASP.NET (such as <code>UseDeveloperExceptionPage</code>)<li>Unlike Giraffe routing, Endpoint Routing doesn't ensure order of routing checks - this shouldn't be a problem in most cases, but I can imagine some edge cases in which this would matter.</ul><p>In general, to reiterate - Endpoint Routing API in Giraffe/Saturn is still experimental. However, it probably is a future of Giraffe/Saturn so, if possible, please check if your applications can move to the Endpoint Routing API, and try it out. It's important for everyone involved to get feedback on this new routing engine.</div></div></section><div class="section bd-docs-pagination bd-pagination-links"><a class="button bd-fat-button is-primary is-light bd-pagination-prev" href="/Saturn/contents/explanations/controller.html"><i>←</i><span class="is-hidden-mobile"><em>EXPLANATION</em><strong>Controllers</strong></span></a><a class="button bd-fat-button is-primary is-light bd-pagination-next" href="/Saturn/contents/tutorials/adding-pages.html"><span class="is-hidden-mobile"><em>TUTORIALS</em><strong>Adding Pages</strong></span><i>→</i></a></div></div></div></div></div><script async="" src="/Saturn/resources/nacara-standard-layouts/scripts/menu.js"></script><footer class="footer"><div class="content has-text-centered is-size-5"><p>Copyright © 2023 - Built with <a class="is-underlined" href="https://mangelmaxime.github.io/Nacara/" style="color:white">Nacara</a></p></div></footer></body></html>