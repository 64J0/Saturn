<html class="has-navbar-fixed-top" lang="en"><head><title>Saturn Docs Â· View Engine</title><meta http-equiv="content-type" content="text/html; charset=UTF-8" charSet="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="shortcut icon" href="/Saturn/static/img/icon.png"/><link rel="stylesheet" type="text/css" href="/Saturn/style.css"/><script src="https://unpkg.com/scroll-into-view-if-needed@2.2.28/umd/scroll-into-view-if-needed.min.js"></script></head><body class="has-footer"><nav class="navbar is-fixed-top is-spaced"><div class="container"><div class="navbar-brand"><a class="navbar-item title is-4" href="https://64j0.github.io/Saturn/">Saturn Docs</a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item is-hidden-mobile" href="/">Home</a><div class="navbar-item has-nacara-dropdown is-floating is-hidden-mobile" data-guid="7b275069-7976-44f2-8092-98e22b7df514"><div class="nacara-dropdown-link">Guides</div><div class="nacara-dropdown is-floating"><a class="nacara-dropdown-item" href="/contents/tutorials/how-to-start.html"><div>Getting Started</div></a><a class="nacara-dropdown-item" href="/contents/tutorials/adding-saturn-to-an-existing-giraffe-app.html"><div>Adding Saturn to Giraffe</div></a><a class="nacara-dropdown-item" href="/contents/tutorials/adding-pages.html"><div>Adding Pages</div></a></div></div><div class="navbar-item has-nacara-dropdown is-floating" data-guid="71efe58b-2b8d-433e-9db5-3aaf7b76e494"><div class="nacara-dropdown-link">Documentation</div><div class="nacara-dropdown is-floating"><a class="nacara-dropdown-item" href="/contents/explanations/overview.html"><div>Saturn Overview</div></a><hr class="navbar-divider"/><a class="nacara-dropdown-item" href="/contents/explanations/directory-structure.html"><div>Directory Structure</div></a><hr class="navbar-divider"/><a class="nacara-dropdown-item" href="/contents/explanations/scaffolding.html"><div>Scaffolding</div></a><hr class="navbar-divider"/><a class="nacara-dropdown-item" href="/contents/explanations/pipeline.html"><div>Pipeline</div></a><hr class="navbar-divider"/><a class="nacara-dropdown-item" href="/contents/explanations/routing.html"><div>Router</div></a><hr class="navbar-divider"/><a class="nacara-dropdown-item" href="/contents/explanations/view.html"><div>View Engine</div></a><hr class="navbar-divider"/><a class="nacara-dropdown-item" href="/contents/explanations/controller.html"><div>Controllers</div></a><hr class="navbar-divider"/><a class="nacara-dropdown-item" href="/contents/explanations/endpoint-routing.html"><div>Endpoint Routing</div></a></div></div><div class="navbar-item navbar-burger-dots is-hidden-tablet"><svg height="4" stroke="none" viewBox="0 0 22 4" width="22"><circle cx="2" cy="2" r="2"></circle><circle cx="2" cy="2" r="2" transform="translate(9,0)"></circle><circle cx="2" cy="2" r="2" transform="translate(18,0)"></circle></svg></div></div><div class="navbar-end is-hidden-mobile"><a class="navbar-item" href="https://github.com/SaturnFramework/Saturn"><span class="icon"><i class=" fab fa-github fa-lg"></i></span></a></div></div><div class="nacara-navbar-menu"><a class="nacara-navbar-menu-item" href="/">Home</a><div class="nacara-navbar-menu-dropdown"><div class="nacara-navbar-menu-dropdown-label">Guides</div><a class="nacara-navbar-menu-dropdown-link" href="/contents/tutorials/how-to-start.html"><span>Getting Started</span></a><a class="nacara-navbar-menu-dropdown-link" href="/contents/tutorials/adding-saturn-to-an-existing-giraffe-app.html"><span>Adding Saturn to Giraffe</span></a><a class="nacara-navbar-menu-dropdown-link" href="/contents/tutorials/adding-pages.html"><span>Adding Pages</span></a></div><a class="nacara-navbar-menu-item" href="https://github.com/SaturnFramework/Saturn">Github</a></div></div></nav><div class="grey-overlay"></div><div class="nacara-content"><div class="container"><div class="mobile-menu"><nav class="breadcrumb"><ul><li><a class="menu-trigger"><span></span><span></span><span></span></a></li><li class="is-active"><a>EXPLANATION</a></li><li class="is-active"><a>View Engine</a></li></ul></nav></div><div class="columns is-gapless is-mobile"><div class="column is-menu-column is-3-desktop is-hidden-touch"><div class="menu-container"><aside class="menu"><p class="menu-label">EXPLANATION</p><ul class="menu-list"><li><a class=" " href="/Saturn/contents/explanations/overview.html">Saturn Overview</a></li><li><a class=" " href="/Saturn/contents/explanations/directory-structure.html">Directory Structure</a></li><li><a class=" " href="/Saturn/contents/explanations/scaffolding.html">Scaffolding</a></li><li><a class=" " href="/Saturn/contents/explanations/pipeline.html">Pipeline</a></li><li><a class=" " href="/Saturn/contents/explanations/routing.html">Router</a></li><li><a class=" is-active" href="/Saturn/contents/explanations/view.html">View Engine</a></li><li><a class=" " href="/Saturn/contents/explanations/controller.html">Controllers</a></li><li><a class=" " href="/Saturn/contents/explanations/endpoint-routing.html">Endpoint Routing</a></li></ul><p class="menu-label">TUTORIALS</p><ul class="menu-list"><li><a class=" " href="/Saturn/contents/tutorials/adding-pages.html">Adding Pages</a></li><li><a class=" " href="/Saturn/contents/tutorials/adding-saturn-to-an-existing-giraffe-app.html">Adding Saturn to an existing Giraffe application</a></li><li><a class=" " href="/Saturn/contents/tutorials/how-to-start.html">Getting started</a></li></ul><p class="menu-label">API REFERENCES</p><ul class="menu-list"><li><a class=" " href="/Saturn/contents/reference/index.html">API Reference Index</a></li></ul></aside></div></div><div class="column is-9-desktop is-full-touch"><section class="section"><div class="content"><header class="page-header"><div class="columns is-vcentered"><div class="column"><nav class="breadcrumb is-category-navigation is-hidden-touch"><ul><li class="is-active"><a>EXPLANATION</a></li><li class="is-active"><a>View Engine</a></li></ul></nav></div><div class="column is-narrow"><a class="button is-hidden-touch is-ghost" target="_blank" href="https://github.com/SaturnFramework/Saturn/docs/docs/contents/explanations/view.md">Edit</a></div></div><h1 class="title is-1">View Engine</h1></header><div><style class=grvsc-styles>.grvsc-container{overflow:auto;position:relative;-webkit-overflow-scrolling:touch;padding-top:1rem;padding-top:var(--grvsc-padding-top,var(--grvsc-padding-v,1rem));padding-bottom:1rem;padding-bottom:var(--grvsc-padding-bottom,var(--grvsc-padding-v,1rem));border-radius:8px;border-radius:var(--grvsc-border-radius,8px);font-feature-settings:normal;line-height:1.4}.grvsc-code{display:table}.grvsc-line{display:table-row;box-sizing:border-box;width:100%;position:relative}.grvsc-line>*{position:relative}.grvsc-gutter-pad{display:table-cell;padding-left:.75rem;padding-left:calc(var(--grvsc-padding-left,var(--grvsc-padding-h,1.5rem))/ 2)}.grvsc-gutter{display:table-cell;-webkit-user-select:none;-moz-user-select:none;user-select:none}.grvsc-gutter::before{content:attr(data-content)}.grvsc-source{display:table-cell;padding-left:1.5rem;padding-left:var(--grvsc-padding-left,var(--grvsc-padding-h,1.5rem));padding-right:1.5rem;padding-right:var(--grvsc-padding-right,var(--grvsc-padding-h,1.5rem))}.grvsc-source:empty::after{content:' ';-webkit-user-select:none;-moz-user-select:none;user-select:none}.grvsc-gutter+.grvsc-source{padding-left:.75rem;padding-left:calc(var(--grvsc-padding-left,var(--grvsc-padding-h,1.5rem))/ 2)}.grvsc-has-line-highlighting>.grvsc-code>.grvsc-line::before{content:' ';position:absolute;width:100%}.grvsc-line-diff-add::before{background-color:var(--grvsc-line-diff-add-background-color,rgba(0,255,60,.2))}.grvsc-line-diff-del::before{background-color:var(--grvsc-line-diff-del-background-color,rgba(255,0,20,.2))}.grvsc-line-number{padding:0 2px;text-align:right;opacity:.7}.atom-one-light{background-color:#fafafa;color:#383a42}.atom-one-light .mtki{font-style:italic}.atom-one-light .mtk14{color:#a626a4}.atom-one-light .mtk1{color:#383a42}.atom-one-light .mtk5{color:#e45649}.atom-one-light .mtk10{color:#50a14f}.atom-one-light .mtk9{color:#4078f2}.atom-one-light .mtk4{color:#c18401}.atom-one-light .mtk8{color:#0184bc}.atom-one-light .mtk7{color:#a0a1a7}.atom-one-light .mtk6{color:#986801}.atom-one-light .grvsc-line-highlighted::before{background-color:var(--grvsc-line-highlighted-background-color,rgba(0,0,0,.05));box-shadow:inset var(--grvsc-line-highlighted-border-width,4px) 0 0 0 var(--grvsc-line-highlighted-border-color,rgba(0,0,0,.2))}</style><h1 id=view-engine>View Engine<a href=#view-engine aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h1><blockquote><p>This post has been originally part of the <a href=https://github.com/giraffe-fsharp/Giraffe/blob/master/DOCUMENTATION.md#giraffe-view-engine>Giraffe documentation</a></blockquote><p>Saturn is built on top of Giraffe and can use any helpers it provides. This is a case for suggested view engine that you can use in Saturn - Giraffe has its own functional view engine, which can be used to build rich UIs for web applications. The single biggest and best contrast to other view engines (e.g. Razor, Liquid, etc.) is that the Giraffe View Engine is entirely functional, written in normal (and compiled) F# code.<p>This means that the Giraffe View Engine is, by definition, one of the most feature rich view engines available, requires no disk IO to load a view and views are automatically compiled at build time.<p>The Giraffe View Engine uses traditional functions and F# record types to generate rich HTML/XML views.<h3 id=html-elements-and-attributes>HTML Elements and Attributes<a href=#html-elements-and-attributes aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h3><p>HTML elements and attributes are defined as F# objects:<pre class="atom-one-light grvsc-container"data-index=0 data-language=fsharp><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>indexView</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    html </span><span class=mtk14>[]</span><span class=mtk1> </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        head </span><span class=mtk14>[]</span><span class=mtk1> </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            title </span><span class=mtk14>[]</span><span class=mtk1> </span><span class=mtk14>[</span><span class=mtk1> str </span><span class=mtk10>"Giraffe Sample"</span><span class=mtk1> </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        body </span><span class=mtk14>[]</span><span class=mtk1> </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            h1 </span><span class=mtk14>[]</span><span class=mtk1> </span><span class=mtk14>[</span><span class=mtk1> str </span><span class=mtk10>"I |> F#"</span><span class=mtk1> </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            p </span><span class=mtk14>[</span><span class=mtk1> </span><span class=mtk14>_</span><span class=mtk1>class </span><span class=mtk10>"some-css-class"</span><span class=mtk14>;</span><span class=mtk1> </span><span class=mtk14>_</span><span class=mtk1>id </span><span class=mtk10>"someId"</span><span class=mtk1> </span><span class=mtk14>]</span><span class=mtk1> </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>                str </span><span class=mtk10>"Hello World"</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>]</span></span></span></code></pre><p>A HTML element can either be a <code>ParentNode</code>, a <code>VoidElement</code> or a <code>Text</code> element.<p>For example the <code>&#60html></code> or <code>&#60div></code> tags are typical <code>ParentNode</code> elements. They can hold an <code>XmlAttribute list</code> and a second <code>XmlElement list</code> for their child elements:<pre class="atom-one-light grvsc-container"data-index=1 data-language=fsharp><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>someHtml</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> div </span><span class=mtk14>[]</span><span class=mtk1> </span><span class=mtk14>[]</span></span></span></code></pre><p>All <code>ParentNode</code> elements accept these two parameters:<pre class="atom-one-light grvsc-container"data-index=2 data-language=fsharp><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>someHtml</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    div </span><span class=mtk14>[</span><span class=mtk1> </span><span class=mtk14>_</span><span class=mtk1>id </span><span class=mtk10>"someId"</span><span class=mtk14>;</span><span class=mtk1> </span><span class=mtk14>_</span><span class=mtk1>class </span><span class=mtk10>"css-class"</span><span class=mtk1> </span><span class=mtk14>]</span><span class=mtk1> </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        a </span><span class=mtk14>[</span><span class=mtk1> </span><span class=mtk14>_</span><span class=mtk1>href </span><span class=mtk10>"https://example.org"</span><span class=mtk1> </span><span class=mtk14>]</span><span class=mtk1> </span><span class=mtk14>[</span><span class=mtk1> str </span><span class=mtk10>"Some text..."</span><span class=mtk1> </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>]</span></span></span></code></pre><p>Most HTML tags are <code>ParentNode</code> elements, however there is a few HTML tags which cannot hold any child elements, such as <code>&#60br></code>, <code>&#60hr></code> or <code>&#60meta></code> tags. These are represented as <code>VoidElement</code> objects and only accept the <code>XmlAttribute list</code> as single parameter:<pre class="atom-one-light grvsc-container"data-index=3 data-language=fsharp><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>someHtml</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    div </span><span class=mtk14>[]</span><span class=mtk1> </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        br </span><span class=mtk14>[]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        hr </span><span class=mtk14>[</span><span class=mtk1> </span><span class=mtk14>_</span><span class=mtk1>class </span><span class=mtk10>"css-class-for-hr"</span><span class=mtk1> </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        p </span><span class=mtk14>[]</span><span class=mtk1> </span><span class=mtk14>[</span><span class=mtk1> str </span><span class=mtk10>"bla blah"</span><span class=mtk1> </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>]</span></span></span></code></pre><p>Attributes are further classified into two different cases. First and most commonly there are <code>KeyValue</code> attributes:<pre class="atom-one-light grvsc-container"data-index=4 data-language=fsharp><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk1>a </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>_</span><span class=mtk1>href </span><span class=mtk10>"http://url.com"</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>_</span><span class=mtk1>target </span><span class=mtk10>"_blank"</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>_</span><span class=mtk1>class </span><span class=mtk10>"class1"</span><span class=mtk1> </span><span class=mtk14>]</span><span class=mtk1> </span><span class=mtk14>[</span><span class=mtk1> str </span><span class=mtk10>"Click here"</span><span class=mtk1> </span><span class=mtk14>]</span></span></span></code></pre><p>As the name suggests, they have a key, such as <code>class</code> and a value such as the name of a CSS class.<p>The second category of attributes are <code>Boolean</code> flags. There are not many but some HTML attributes which do not require any value (e.g. <code>async</code> or <code>defer</code> in script tags). The presence of such an attribute means that the feature is turned on, otherwise it is turned off:<pre class="atom-one-light grvsc-container"data-index=5 data-language=fsharp><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk1>script </span><span class=mtk14>[</span><span class=mtk1> </span><span class=mtk14>_</span><span class=mtk1>src </span><span class=mtk10>"some.js"</span><span class=mtk14>;</span><span class=mtk1> </span><span class=mtk14>_</span><span class=mtk1>async </span><span class=mtk14>]</span><span class=mtk1> </span><span class=mtk14>[]</span></span></span></code></pre><p>There's also a wealth of <a href=https://www.w3.org/TR/html-aria/>accessibility attributes</a> available under the <code>Giraffe.ViewEngine.Accessibility</code> module (needs to be explicitly opened).<h3 id=text-content>Text Content<a href=#text-content aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h3><p>Naturally the most frequent content in any HTML document is pure text:<pre class="atom-one-light grvsc-container"data-index=6 data-language=html><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk1>&lt;</span><span class=mtk5>div</span><span class=mtk1>></span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    &lt;</span><span class=mtk5>h1</span><span class=mtk1>>This is text content&#60/</span><span class=mtk5>h1</span><span class=mtk1>></span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    &lt;</span><span class=mtk5>p</span><span class=mtk1>>This is even more text content!&#60/</span><span class=mtk5>p</span><span class=mtk1>></span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>&#60/</span><span class=mtk5>div</span><span class=mtk1>></span></span></span></code></pre><p>The Giraffe View Engine lets one create pure text content as a <code>Text</code> element. A <code>Text</code> element can either be generated via the <code>rawText</code> or <code>encodedText</code> (or the short alias <code>str</code>) functions:<pre class="atom-one-light grvsc-container"data-index=7 data-language=fsharp><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>someHtml</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    div </span><span class=mtk14>[]</span><span class=mtk1> </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        p </span><span class=mtk14>[]</span><span class=mtk1> </span><span class=mtk14>[</span><span class=mtk1> rawText </span><span class=mtk10>"&#60div>Hello World&#60/div>"</span><span class=mtk1> </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        p </span><span class=mtk14>[]</span><span class=mtk1> </span><span class=mtk14>[</span><span class=mtk1> encodedText </span><span class=mtk10>"&#60div>Hello World&#60/div>"</span><span class=mtk1> </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>]</span></span></span></code></pre><p>The <code>rawText</code> function will create an object of type <code>XmlNode</code> where the content will be rendered in its original form and the <code>encodedText</code>/<code>str</code> function will output a string where the content has been HTML encoded.<p>In this example the first <code>p</code> element will literally output the string as it is (<code>&#60div>Hello World&#60/div></code>) while the second <code>p</code> element will output the value as HTML encoded string <code>&#38lt;div&#38gt;Hello World&#38lt;/div&#38gt;</code>.<p>Please be aware that the the usage of <code>rawText</code> is mainly designed for edge cases where someone would purposefully want to inject HTML (or JavaScript) code into a rendered view. If not used carefully this could potentially lead to serious security vulnerabilities and therefore should be used only when explicitly required.<p>Most cases and particularly any user provided content should always be output via the <code>encodedText</code>/<code>str</code> function.<h3 id=javascript-event-handlers>Javascript event handlers<a href=#javascript-event-handlers aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h3><p>It is possible to add JavaScript event handlers to HTML elements using the Giraffe View Engine. These event handlers (all prefixed with names starting with <code>_on</code>, for example <code>_onclick</code>, <code>_onmouseover</code>) can either execute inline JavaScript code or can invoke functions that are part of the <code>window</code> scope.<p>This example illustrates how inline JavaScript could be used to log to the console when a button is clicked:<pre class="atom-one-light grvsc-container"data-index=8 data-language=fsharp><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>inlineJSButton</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    button </span><span class=mtk14>[_</span><span class=mtk1>id </span><span class=mtk10>"inline-js"</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            </span><span class=mtk14>_</span><span class=mtk1>onclick </span><span class=mtk10>"console.log(\"Hello from the 'inline-js' button!\");"</span><span class=mtk14>]</span><span class=mtk1> </span><span class=mtk14>[</span><span class=mtk1>str </span><span class=mtk10>"Say Hello"</span><span class=mtk1> </span><span class=mtk14>]</span></span></span></code></pre><p>There are some caveats with this approach, namely that<ul><li>it is not very scalable to write JavaScript inline in this manner, and more pressing<li>the Giraffe View Engine HTML-encodes the text provided to the <code>_onX</code> attributes.</ul><p>To get around this, you can write dedicated scripts in your HTML and reference the functions from your event handlers:<pre class="atom-one-light grvsc-container"data-index=9 data-language=fsharp><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>page</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    div </span><span class=mtk14>[]</span><span class=mtk1> </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        script </span><span class=mtk14>[_</span><span class=mtk1>type </span><span class=mtk10>"application/javascript"</span><span class=mtk14>]</span><span class=mtk1> </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            rawText </span><span class=mtk10>"""</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>            window.greet = function () {</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>                console.log("ping from the greet method");</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>            }</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk10>            """</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        button </span><span class=mtk14>[_</span><span class=mtk1>id </span><span class=mtk10>"script-tag-js"</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>                </span><span class=mtk14>_</span><span class=mtk1>onclick </span><span class=mtk10>"greet();"</span><span class=mtk14>]</span><span class=mtk1> </span><span class=mtk14>[</span><span class=mtk1>str </span><span class=mtk10>"Say Hello"</span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>]</span></span></span></code></pre><p>Here it's important to note that we've included the text of our script using the <code>rawText</code> tag. This ensures that our text is not encoded by Giraffe so that it remains as we have written it.<p>However, writing large quantities of JavaScript in this manner can be difficult, because you don't have access to the large ecosystem of javascript editor tooling. In this case you should write your functions in another script and use a <code>script</code> tag element to reference your script, then add the desired function to your HTML element's event handler.<p>Say you had a JavaScript file named <code>greet.js</code> and had configured Giraffe to serve that script from the WebRoot. Let us also say that the content of that script was:<pre class="atom-one-light grvsc-container"data-index=10 data-language=javascript><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>function</span><span class=mtk1> </span><span class=mtk9>greet</span><span class=mtk1>() {</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk4>console</span><span class=mtk1>.</span><span class=mtk8>log</span><span class=mtk1>(</span><span class=mtk10>"Hello from the greet function of greet.js!"</span><span class=mtk1>);</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>}</span></span></span></code></pre><p>Then, you could reference that javascript via a script element, and use <code>greet</code> in your event handler like so:<pre class="atom-one-light grvsc-container"data-index=11 data-language=fsharp><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>page</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    html </span><span class=mtk14>[]</span><span class=mtk1> </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        head </span><span class=mtk14>[]</span><span class=mtk1> </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            script </span><span class=mtk14>[_</span><span class=mtk1>type </span><span class=mtk10>"application/javascript"</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>                    </span><span class=mtk14>_</span><span class=mtk1>src </span><span class=mtk10>"/greet.js"</span><span class=mtk14>]</span><span class=mtk1> </span><span class=mtk14>[]</span><span class=mtk1> </span><span class="mtk7 mtki">// include our `greet.js` function dynamically</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        body </span><span class=mtk14>[]</span><span class=mtk1> </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            button </span><span class=mtk14>[_</span><span class=mtk1>id </span><span class=mtk10>"greet-btn"</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>                    </span><span class=mtk14>_</span><span class=mtk1>onclick </span><span class=mtk10>"greet()"</span><span class=mtk14>]</span><span class=mtk1> </span><span class=mtk14>[]</span><span class=mtk1> </span><span class="mtk7 mtki">// use the `greet()` function from `greet.js` to say hello</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>]</span></span></span></code></pre><p>In this way, you can write <code>greet.js</code> with all of your expected tooling, and still hook up the event handlers all in one place in Giraffe.<h3 id=naming-convention>Naming Convention<a href=#naming-convention aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h3><p>The Giraffe View Engine has a naming convention which lets you easily determine the correct function name without having to know anything about the view engine's implementation.<p>All HTML tags are defined as <code>XmlNode</code> elements under the exact same name as they are named in HTML. For example the <code>&#60html></code> tag would be <code>html [] []</code>, an <code>&#60a></code> tag would be <code>a [] []</code> and a <code>&#60span></code> or <code>&#60canvas></code> would be the <code>span [] []</code> or <code>canvas [] []</code> function.<p>HTML attributes follow the same naming convention except that attributes have an underscore prepended. For example the <code>class</code> attribute would be <code>_class</code> and the <code>src</code> attribute would be <code>_src</code> in Giraffe.<p>The underscore does not only help to distinguish an attribute from an element, but also avoid a naming conflict between tags and attributes of the same name (e.g. <code>&#60form></code> vs. <code>&#60input form="form1"></code>).<p>If a HTML attribute has a hyphen in the name (e.g. <code>accept-charset</code>) then the equivalent Giraffe attribute would be written in camel case notion (e.g. <code>acceptCharset</code>).<p><em>Should you find a HTML tag or attribute missing in the Giraffe View Engine then you can either <a href=#custom-elements-and-attributes>create it yourself</a> or send a <a href=https://github.com/giraffe-fsharp/Giraffe/pulls>pull request on GitHub</a>.</em><h3 id=view-engine-best-practices>View Engine Best Practices<a href=#view-engine-best-practices aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h3><p>Due to the huge amount of available HTML tags and their fairly generic (and short) names (e.g. <code>&#60form></code>, <code>&#60option></code>, <code>&#60select></code>, etc.) there is a significant danger of accidentally overriding a function of the same name in an application's codebase. For that reason the Giraffe View Engine becomes only available after opening the <code>Giraffe.ViewEngine</code> module.<p>As a measure of good practice it is recommended to create all views in a separate module:<pre class="atom-one-light grvsc-container"data-index=12 data-language=fsharp><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>module</span><span class=mtk9> MyWebApplication</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>module</span><span class=mtk9> Views </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Giraffe.ViewEngine</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>index</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        html </span><span class=mtk14>[]</span><span class=mtk1> </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            head </span><span class=mtk14>[]</span><span class=mtk1> </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>                title </span><span class=mtk14>[]</span><span class=mtk1> </span><span class=mtk14>[</span><span class=mtk1> str </span><span class=mtk10>"Giraffe Sample"</span><span class=mtk1> </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            body </span><span class=mtk14>[]</span><span class=mtk1> </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>                h1 </span><span class=mtk14>[]</span><span class=mtk1> </span><span class=mtk14>[</span><span class=mtk1> str </span><span class=mtk10>"I |> F#"</span><span class=mtk1> </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>                p </span><span class=mtk14>[</span><span class=mtk1> </span><span class=mtk14>_</span><span class=mtk1>class </span><span class=mtk10>"some-css-class"</span><span class=mtk14>;</span><span class=mtk1> </span><span class=mtk14>_</span><span class=mtk1>id </span><span class=mtk10>"someId"</span><span class=mtk1> </span><span class=mtk14>]</span><span class=mtk1> </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>                    str </span><span class=mtk10>"Hello World"</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>                </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>other</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> </span><span class="mtk7 mtki">//...</span></span></span></code></pre><p>This ensures that the opening of the <code>Giraffe.ViewEngine</code> is only contained in a small context of an application's codebase and therefore less of a threat to accidental overrides. In the above example views can always be accessed through the <code>Views</code> sub module (e.g. <code>Views.index</code>).<h3 id=custom-elements-and-attributes>Custom Elements and Attributes<a href=#custom-elements-and-attributes aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h3><p>Adding new elements or attributes is normally as simple as a single line of code:<pre class="atom-one-light grvsc-container"data-index=13 data-language=fsharp><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Giraffe.ViewEngine</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtk7 mtki">// If there was a new &#60foo>&#60/foo> HTML element:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>foo</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> tag </span><span class=mtk10>"foo"</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtk7 mtki">// If &#60foo> is an element which cannot hold any content then create it as voidTag:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>foo</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> voidTag </span><span class=mtk10>"foo"</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtk7 mtki">// If &#60foo> has a new attribute called bar then create a new bar attribute:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>_bar</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> attr </span><span class=mtk10>"bar"</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtk7 mtki">// if the bar attribute is a boolean flag:</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>_bar</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> flag </span><span class=mtk10>"bar"</span></span></span></code></pre><p>Alternatively you can also create new elements and attributes from inside another element:<pre class="atom-one-light grvsc-container"data-index=14 data-language=fsharp><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>someHtml</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    div </span><span class=mtk14>[]</span><span class=mtk1> </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        tag </span><span class=mtk10>"foo"</span><span class=mtk1> </span><span class=mtk14>[</span><span class=mtk1> attr </span><span class=mtk10>"bar"</span><span class=mtk1> </span><span class=mtk10>"blah"</span><span class=mtk1> </span><span class=mtk14>]</span><span class=mtk1> </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            voidTag </span><span class=mtk10>"otherFoo"</span><span class=mtk1> </span><span class=mtk14>[</span><span class=mtk1> flag </span><span class=mtk10>"flag1"</span><span class=mtk1> </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>]</span></span></span></code></pre><h3 id=rendering-views>Rendering Views<a href=#rendering-views aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h3><p>Rendering views in Giraffe is done through one of the following functions:<ul><li><code>renderHtmlDocument</code><li><code>renderHtmlNodes</code><li><code>renderHtmlNode</code><li><code>renderXmlNodes</code><li><code>renderXmlNode</code></ul><p>The Giraffe View Engine cannot only be used to render HTML views, but also for any other XML based content such as <code>&#60svg></code> images or other arbitrary XML based data.<p>The <code>renderHtmlDocument</code> function takes a single <code>XmlNode</code> as input parameter and renders a HTML page with a <code>DOCTYPE</code> declaration. This function should be used for rendering a complete HTML document. The <code>WriteHtmlViewAsync</code> extension method and the <code>htmlView</code> http handler both use the <code>renderHtmlDocument</code> function under the covers.<p>The <code>renderHtmlNodes</code> function takes an <code>XmlNode list</code> as input parameter and will output a single HTML string containing all the rendered HTML code. The <code>renderHtmlNode</code> function renders a single <code>XmlNode</code> element into a valid HTML string. Both, the <code>renderHtmlNodes</code> and <code>renderHtmlNode</code> function are useful for use cases where a HTML snippet needs to be created without a <code>DOCTYPE</code> declaration (e.g. templated emails, etc.).<p>The <code>renderXmlNodes</code> and <code>renderXmlNode</code> function are identical to <code>renderHtmlNodes</code> and <code>renderHtmlNode</code>, except that they will render void elements differently:<pre class="atom-one-light grvsc-container"data-index=15 data-language=fsharp><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>someTag</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> voidTag </span><span class=mtk10>"foo"</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>someContent</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> someTag </span><span class=mtk14>[]</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtk7 mtki">// Void tag will be rendered to valid HTML: &#60foo></span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>output1</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> renderHtmlNode someContent</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtk7 mtki">// Void tag will be rendered to valid XML: &#60foo /></span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>output2</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> renderXmlNode someContent</span></span></span></code></pre><p>All <code>Giraffe.ViewEngine</code> http handlers are using a thread static <code>StringBuilderPool</code> to avoid the creation of large <code>StringBuilder</code> objects for each render call and dynamically grow/shrink that pool based on the application's needs. However if the application is running into any memory issues then this performance feature can be disabled by setting <code>StringBuilderPool.IsEnabled &#60- false</code>.<p>Additionally with Giraffe 3.0.0 or higher there is a new module called <code>ViewBuilder</code> under the <code>Giraffe.ViewEngine</code> namespace. This module exposes additional view rendering functions which compile a view into a <code>StringBuilder</code> object instead of returning a single <code>string</code>:<ul><li><code>ViewBuilder.buildHtmlDocument</code><li><code>ViewBuilder.buildHtmlNodes</code><li><code>ViewBuilder.buildHtmlNode</code><li><code>ViewBuilder.buildXmlNodes</code><li><code>ViewBuilder.buildXmlNode</code></ul><p>The <code>ViewBuilder.build[...]</code> functions can be useful if there is additional string processing required before/after composing a view by the <code>ViewEngine</code> (e.g. embedding HTML snippets in an email template, etc.). These functions also serve as the lower level building blocks of the equivalent <code>render[...]</code> functions.<p>Example usage:<pre class="atom-one-light grvsc-container"data-index=16 data-language=fsharp><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>System.Text</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Giraffe.ViewEngine</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>someHtml</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    div </span><span class=mtk14>[]</span><span class=mtk1> </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        tag </span><span class=mtk10>"foo"</span><span class=mtk1> </span><span class=mtk14>[</span><span class=mtk1> attr </span><span class=mtk10>"bar"</span><span class=mtk1> </span><span class=mtk10>"blah"</span><span class=mtk1> </span><span class=mtk14>]</span><span class=mtk1> </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            voidTag </span><span class=mtk10>"otherFoo"</span><span class=mtk1> </span><span class=mtk14>[</span><span class=mtk1> flag </span><span class=mtk10>"flag1"</span><span class=mtk1> </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>sb</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> </span><span class=mtk14>new</span><span class=mtk1> StringBuilder</span><span class=mtk6>()</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtk7 mtki">// Perform actions on the `sb` object...</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>sb.AppendLine </span><span class=mtk10>"This is a HTML snippet inside a markdown string:"</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>  .AppendLine </span><span class=mtk10>""</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>  .AppendLine </span><span class=mtk10>"```html"</span><span class=mtk1> </span><span class=mtk14>|></span><span class=mtk1> ignore</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>sb</span><span class=mtk1>' </span><span class=mtk14>=</span><span class=mtk1> ViewBuilder.buildHtmlNode sb someHtml</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class="mtk7 mtki">// Perform more actions on the `sb` object...</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>sb'.AppendLine </span><span class=mtk10>"```"</span><span class=mtk1> </span><span class=mtk14>|></span><span class=mtk1> ignore</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>markdownOutput</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> sb'.ToString</span><span class=mtk6>()</span></span></span></code></pre><h3 id=common-view-engine-features>Common View Engine Features<a href=#common-view-engine-features aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h3><p>The Giraffe View Engine doesn't have any specially built functions for commonly known features such as master pages or partial views, mainly because the nature of the view engine itself doesn't require it in most cases.<h4 id=master-pages>Master Pages<a href=#master-pages aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h4><p>Creating a master page is a simple matter of piping two functions together:<pre class="atom-one-light grvsc-container"data-index=17 data-language=fsharp><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>module</span><span class=mtk9> Views </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Giraffe.ViewEngine</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>master</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>pageTitle </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>string</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>content</span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>XmlNode list</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        html </span><span class=mtk14>[]</span><span class=mtk1> </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            head </span><span class=mtk14>[]</span><span class=mtk1> </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>                title </span><span class=mtk14>[]</span><span class=mtk1> </span><span class=mtk14>[</span><span class=mtk1> str pageTitle </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            body </span><span class=mtk14>[]</span><span class=mtk1> content</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>index</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>pageTitle</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> </span><span class=mtk10>"Giraffe Sample"</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            h1 </span><span class=mtk14>[]</span><span class=mtk1> </span><span class=mtk14>[</span><span class=mtk1> str pageTitle </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            p </span><span class=mtk14>[]</span><span class=mtk1> </span><span class=mtk14>[</span><span class=mtk1> str </span><span class=mtk10>"Hello world!"</span><span class=mtk1> </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>]</span><span class=mtk1> </span><span class=mtk14>|></span><span class=mtk1> master pageTitle</span></span></span></code></pre><p>... or even have multiple nested master pages:<pre class="atom-one-light grvsc-container"data-index=18 data-language=fsharp><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>module</span><span class=mtk9> Views </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Giraffe.ViewEngine</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>master1</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>pageTitle </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>string</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>content</span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>XmlNode list</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        html </span><span class=mtk14>[]</span><span class=mtk1> </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            head </span><span class=mtk14>[]</span><span class=mtk1> </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>                title </span><span class=mtk14>[]</span><span class=mtk1> </span><span class=mtk14>[</span><span class=mtk1> str pageTitle </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            body </span><span class=mtk14>[]</span><span class=mtk1> content</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>master2</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>content</span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>XmlNode list</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            main </span><span class=mtk14>[]</span><span class=mtk1> content</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            footer </span><span class=mtk14>[]</span><span class=mtk1> </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>                p </span><span class=mtk14>[]</span><span class=mtk1> </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>                    str </span><span class=mtk10>"Copyright ..."</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>                </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>index</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>pageTitle</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> </span><span class=mtk10>"Giraffe Sample"</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            h1 </span><span class=mtk14>[]</span><span class=mtk1> </span><span class=mtk14>[</span><span class=mtk1> str pageTitle </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            p </span><span class=mtk14>[]</span><span class=mtk1> </span><span class=mtk14>[</span><span class=mtk1> str </span><span class=mtk10>"Hello world!"</span><span class=mtk1> </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>]</span><span class=mtk1> </span><span class=mtk14>|></span><span class=mtk1> master2 </span><span class=mtk14>|></span><span class=mtk1> master1 pageTitle</span></span></span></code></pre><h4 id=partial-views>Partial Views<a href=#partial-views aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h4><p>A partial view is nothing more than one function or object being called from within another function:<pre class="atom-one-light grvsc-container"data-index=19 data-language=fsharp><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>module</span><span class=mtk9> Views </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Giraffe.ViewEngine</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>partial</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        footer </span><span class=mtk14>[]</span><span class=mtk1> </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            p </span><span class=mtk14>[]</span><span class=mtk1> </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>                str </span><span class=mtk10>"Copyright..."</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>master</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>pageTitle </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>string</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>content</span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>XmlNode list</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        html </span><span class=mtk14>[]</span><span class=mtk1> </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            head </span><span class=mtk14>[]</span><span class=mtk1> </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>                title </span><span class=mtk14>[]</span><span class=mtk1> </span><span class=mtk14>[</span><span class=mtk1> str pageTitle </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            body </span><span class=mtk14>[]</span><span class=mtk1> content</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            partial</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>index</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>pageTitle</span><span class=mtk1> </span><span class=mtk14>=</span><span class=mtk1> </span><span class=mtk10>"Giraffe Sample"</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            h1 </span><span class=mtk14>[]</span><span class=mtk1> </span><span class=mtk14>[</span><span class=mtk1> str pageTitle </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            p </span><span class=mtk14>[]</span><span class=mtk1> </span><span class=mtk14>[</span><span class=mtk1> str </span><span class=mtk10>"Hello world!"</span><span class=mtk1> </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>]</span><span class=mtk1> </span><span class=mtk14>|></span><span class=mtk1> master pageTitle</span></span></span></code></pre><h4 id=working-with-models>Working with Models<a href=#working-with-models aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h4><p>A view which accepts a model is basically a function with an additional parameter:<pre class="atom-one-light grvsc-container"data-index=20 data-language=fsharp><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>module</span><span class=mtk9> Views </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>open</span><span class=mtk1> </span><span class=mtk9>Giraffe.ViewEngine</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>partial</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        footer </span><span class=mtk14>[]</span><span class=mtk1> </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            p </span><span class=mtk14>[]</span><span class=mtk1> </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>                str </span><span class=mtk10>"Copyright..."</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>master</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>pageTitle </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>string</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>content</span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>XmlNode list</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        html </span><span class=mtk14>[]</span><span class=mtk1> </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            head </span><span class=mtk14>[]</span><span class=mtk1> </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>                title </span><span class=mtk14>[]</span><span class=mtk1> </span><span class=mtk14>[</span><span class=mtk1> str pageTitle </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            body </span><span class=mtk14>[]</span><span class=mtk1> content</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            partial</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>index</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>model </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>IndexViewModel</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            h1 </span><span class=mtk14>[]</span><span class=mtk1> </span><span class=mtk14>[</span><span class=mtk1> str model.PageTitle </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            p </span><span class=mtk14>[]</span><span class=mtk1> </span><span class=mtk14>[</span><span class=mtk1> str model.WelcomeText </span><span class=mtk14>]</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>]</span><span class=mtk1> </span><span class=mtk14>|></span><span class=mtk1> master model.PageTitle</span></span></span></code></pre><h4 id=if-statements-loops-etc>If Statements, Loops, etc.<a href=#if-statements-loops-etc aria-hidden=true tabindex=-1><span class=anchor>#</span></a></h4><p>Things like if statements, loops and other normal F# language constructs work just as expected:<pre class="atom-one-light grvsc-container"data-index=21 data-language=fsharp><code class=grvsc-code><span class=grvsc-line><span class=grvsc-source><span class=mtk14>let</span><span class=mtk1> </span><span class=mtk5>partial</span><span class=mtk1> </span><span class=mtk14>(</span><span class=mtk1>books </span><span class=mtk14>:</span><span class=mtk1> </span><span class=mtk4>Book list</span><span class=mtk14>)</span><span class=mtk1> </span><span class=mtk14>=</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    ul </span><span class=mtk14>[]</span><span class=mtk1> </span><span class=mtk14>[</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>        </span><span class=mtk14>yield!</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            books</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>            </span><span class=mtk14>|></span><span class=mtk1> List.map </span><span class=mtk14>(fun</span><span class=mtk1> b </span><span class=mtk14>-></span><span class=mtk1> li </span><span class=mtk14>[]</span><span class=mtk1> </span><span class=mtk14>[</span><span class=mtk1> str book.Title </span><span class=mtk14>])</span></span></span>
<span class=grvsc-line><span class=grvsc-source><span class=mtk1>    </span><span class=mtk14>]</span></span></span></code></pre><p>Overall the Giraffe View Engine is extremely flexible and feature rich by nature based on the fact that it is generated via normal compiled F# code.</div></div></section><div class="section bd-docs-pagination bd-pagination-links"><a class="button bd-fat-button is-primary is-light bd-pagination-prev" href="/Saturn/contents/explanations/routing.html"><i>â</i><span class="is-hidden-mobile"><em>EXPLANATION</em><strong>Router</strong></span></a><a class="button bd-fat-button is-primary is-light bd-pagination-next" href="/Saturn/contents/explanations/controller.html"><span class="is-hidden-mobile"><em>EXPLANATION</em><strong>Controllers</strong></span><i>â</i></a></div></div></div></div></div><script async="" src="/Saturn/resources/nacara-standard-layouts/scripts/menu.js"></script><footer class="footer"><div class="content has-text-centered is-size-5"><p>Copyright Â© 2023 - Built with <a class="is-underlined" href="https://mangelmaxime.github.io/Nacara/" style="color:white">Nacara</a></p></div></footer></body></html>